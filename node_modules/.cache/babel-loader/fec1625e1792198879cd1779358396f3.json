{"remainingRequest":"D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\src\\views\\CaptionHost.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\src\\views\\CaptionHost.vue","mtime":1606393365000},{"path":"D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\caption\\captionr-static-web-app-main (1)\\captionr-static-web-app-main\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9PYmplY3QkYXNzaWduIGZyb20gIkQ6XFxQcm9ncmFtXFxjYXB0aW9uXFxjYXB0aW9uci1zdGF0aWMtd2ViLWFwcC1tYWluICgxKVxcY2FwdGlvbnItc3RhdGljLXdlYi1hcHAtbWFpblxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczIvY29yZS1qcy9vYmplY3QvYXNzaWduIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLmJpbmQiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOlxcUHJvZ3JhbVxcY2FwdGlvblxcY2FwdGlvbnItc3RhdGljLXdlYi1hcHAtbWFpbiAoMSlcXGNhcHRpb25yLXN0YXRpYy13ZWItYXBwLW1haW5cXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgY29uc3RhbnRzIGZyb20gJy4uL2xpYi9jb25zdGFudHMnOwppbXBvcnQgVHJhbnNsYXRvciBmcm9tICcuLi9saWIvdHJhbnNsYXRvcic7CmltcG9ydCBsYW5ndWFnZUxpc3RNaXhpbiBmcm9tICcuLi9saWIvbGFuZ3VhZ2UtbGlzdC1taXhpbic7CnZhciBzcGVlY2hBcGlLZXlMb2NhbFN0b3JhZ2VLZXkgPSAnc3BlZWNoQXBpS2V5JzsKdmFyIHNwZWVjaEFwaVJlZ2lvblN0b3JhZ2VLZXkgPSAnc3BlZWNoQXBpUmVnaW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2xhbmd1YWdlTGlzdE1peGluXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga2V5OiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3BlZWNoQXBpS2V5TG9jYWxTdG9yYWdlS2V5KSB8fCAnJywKICAgICAgcmVnaW9uOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3BlZWNoQXBpUmVnaW9uU3RvcmFnZUtleSkgfHwgIiIuY29uY2F0KGNvbnN0YW50cy5yZWdpb24pLAogICAgICBjdXJyZW50U2VudGVuY2U6ICcnLAogICAgICBzdGFydGVkOiBmYWxzZSwKICAgICAgZnJvbUxhbmd1YWdlOiAnZW4tVVMnLAogICAgICBtZWV0aW5nSWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5tZWV0aW5nSWQsCiAgICAgIGhvc3RLZXk6IHRoaXMuJHJvdXRlLnBhcmFtcy5ob3N0S2V5LAogICAgICBhdXRoVG9rZW46IG51bGwsCiAgICAgIG1lZXRpbmdQYXNzd29yZDogbnVsbCwKICAgICAgb3JpZ2luOiBudWxsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGtleTogZnVuY3Rpb24ga2V5KG5ld0tleSkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3BlZWNoQXBpS2V5TG9jYWxTdG9yYWdlS2V5LCBuZXdLZXkpOwogICAgfSwKICAgIHJlZ2lvbjogZnVuY3Rpb24gcmVnaW9uKG5ld1JlZ2lvbikgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3BlZWNoQXBpUmVnaW9uU3RvcmFnZUtleSwgbmV3UmVnaW9uKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfY3JlYXRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGF1dGg7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcihmdW5jdGlvbiAoY2FwdGlvbnMpIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbnRlbmNlID0gY2FwdGlvbnMub3JpZ2luYWw7CgogICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9ucyA9IF9PYmplY3QkYXNzaWduKHsKICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuYXV0aFRva2VuCiAgICAgICAgICAgICAgICB9LCBjYXB0aW9ucy50cmFuc2xhdGlvbnMpOwoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoIiIuY29uY2F0KGNvbnN0YW50cy5hcGlCYXNlVXJsLCAiL2FwaS9jYXB0aW9ucz9tZWV0aW5nSWQ9IikuY29uY2F0KHRoaXMubWVldGluZ0lkKSwgdHJhbnNsYXRpb25zKTsKICAgICAgICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChjb25zdGFudHMuYXBpQmFzZVVybCwgIi9hcGkvdG9rZW5zL2hvc3QiKSwgewogICAgICAgICAgICAgICAgbWVldGluZ0lkOiB0aGlzLm1lZXRpbmdJZCwKICAgICAgICAgICAgICAgIGhvc3RLZXk6IHRoaXMuaG9zdEtleQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgIHJldHVybiByLmRhdGE7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgYXV0aCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5hdXRoVG9rZW4gPSBhdXRoLnRva2VuOwogICAgICAgICAgICAgIHRoaXMubWVldGluZ1Bhc3N3b3JkID0gYXV0aC5tZWV0aW5nLm1lZXRpbmdQYXNzd29yZDsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNyZWF0ZWQ7CiAgfSgpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHRoaXMudHJhbnNsYXRvci5zdGFydCh7CiAgICAgICAga2V5OiB0aGlzLmtleSwKICAgICAgICByZWdpb246IHRoaXMucmVnaW9uLAogICAgICAgIGZyb21MYW5ndWFnZTogdGhpcy5mcm9tTGFuZ3VhZ2UsCiAgICAgICAgdG9MYW5ndWFnZXM6IHRoaXMudG9MYW5ndWFnZXMKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubWVldGluZ0lkLCB0aGlzLmhvc3RLZXkpOwogICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlOwogICAgfSwKICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbnRTZW50ZW5jZSA9ICcnOwogICAgICB0aGlzLnRyYW5zbGF0b3Iuc3RvcCgpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMudHJhbnNsYXRvci5zdG9wKCk7CiAgfQp9Ow=="},{"version":3,"sources":["CaptionHost.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"caption-host\">\n    <div>\n      <div>Meeting join link: <code>{{ `${origin}/join/${meetingId}` }}</code></div>\n      <div>Meeting password: <code>{{ meetingPassword }}</code></div>\n    </div>\n    <div v-if=\"!started\">\n      <h1>Host a session</h1>\n      <div><input type=\"password\" v-model=\"key\" placeholder=\"Cognitive Services Speech API Key\" /></div>\n      <div>\n        <input type=\"text\" v-model=\"region\" placeholder=\"Speech API region\" />\n        <select v-model=\"fromLanguage\">\n          <option v-for=\"lang in fromLanguages\" :value=\"lang\" :key=\"lang\">\n            {{ lang }}\n          </option>\n        </select>\n        <button @click=\"start\">start</button>\n      </div>\n    </div>\n    <div v-else>\n      <button @click=\"stop\">stop</button>\n      <div id=\"currentSentence\" class=\"caption\">\n        {{ currentSentence }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport constants from '../lib/constants'\nimport Translator from '../lib/translator'\nimport languageListMixin from '../lib/language-list-mixin'\n\nconst speechApiKeyLocalStorageKey = 'speechApiKey'\nconst speechApiRegionStorageKey = 'speechApiRegion'\n\nexport default {\n  mixins: [ languageListMixin ],\n  data() {\n    return {\n      key: window.localStorage.getItem(speechApiKeyLocalStorageKey) || '',\n      region: window.localStorage.getItem(speechApiRegionStorageKey) || `${constants.region}`,\n      currentSentence: '',\n      started: false,\n      fromLanguage: 'en-US',\n      meetingId: this.$route.params.meetingId,\n      hostKey: this.$route.params.hostKey,\n      authToken: null,\n      meetingPassword: null,\n      origin: null\n    }\n  },\n  watch: {\n    key(newKey) {\n      window.localStorage.setItem(speechApiKeyLocalStorageKey, newKey)\n    },\n    region(newRegion) {\n      window.localStorage.setItem(speechApiRegionStorageKey, newRegion)\n    }\n  },\n  async created() {\n    this.translator = new Translator(function(captions) {\n      this.currentSentence = captions.original\n      const translations = Object.assign({\n        token: this.authToken\n      }, captions.translations)\n      axios.post(`${constants.apiBaseUrl}/api/captions?meetingId=${this.meetingId}`, translations)\n    }.bind(this))\n\n    const auth = await axios.post(`${constants.apiBaseUrl}/api/tokens/host`, {\n      meetingId: this.meetingId,\n      hostKey: this.hostKey\n    }).then(r => r.data)\n\n    this.authToken = auth.token\n    this.meetingPassword = auth.meeting.meetingPassword\n  },\n  mounted() {\n    this.origin = window.location.origin\n  },\n  methods: {\n    start() {\n      this.translator.start({\n        key: this.key,\n        region: this.region,\n        fromLanguage: this.fromLanguage,\n        toLanguages: this.toLanguages\n      })\n      console.log(this.meetingId, this.hostKey)\n      this.started = true\n    },\n    stop() {\n      this.started = false\n      this.currentSentence = ''\n      this.translator.stop()\n    }\n  },\n  beforeDestroy() {\n    this.translator.stop()\n  }\n}\n</script>\n\n<style scoped>\ninput[type=password] {\n  width: 600px;\n}\n</style>"],"sourceRoot":"src/views"}]}